!function(t){var e=function(e,i){var n={autoUpdate:!0,bindAttribute:"id"},u=i.model,a=i.autoUpdate;t.extend(n,i),this.init=function(){var i=this;return this.updateForm(),a&&($elems=this.getElems(),$elems.change(function(){i.updateModel()}),t.each(u,function(e,i){Object.defineProperty(u,e,{set:function(u){i=u,t("["+n.bindAttribute+"="+e+"]").val(u)}}),Object.defineProperty(u,e,{get:function(t){return i}})})),e},this.getElems=function(){return t(e).find("input[type=text],input[type=radio],input[type=checkbox],select,textarea")},this.updateModel=function(){this.getElems().each(function(e,i){u[t(i).attr(n.bindAttribute)]=t(this).val()})},this.updateForm=function(){this.getElems().each(function(e,i){t(this).val(u[t(i).attr(n.bindAttribute)])})},this.getModel=function(){return u}};t.fn.modelbind=function(){var i=t(this).data("instance");if(void 0===i){var n=(i=new e(this,arguments[0])).init();t(n).data("instance",i)}else if("string"==typeof arguments[0])if("updateModel"===arguments[0])i.updateModel();else if("updateForm"===arguments[0])i.updateForm();else if("getModel"===arguments[0])return i.getModel()}}(jQuery);
